<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Connexa — Contacts</title>
    <link rel="icon" type="image/png" href="/assets/img/notebook_icon.png" />
    <link rel="stylesheet" href="/frontend/src/assets/tailwind/output.css" />
  </head>
  <body class="bg-gray-50 text-gray-900 antialiased min-h-screen flex flex-col">
    <!-- Nav -->
    <header class="bg-white/90 backdrop-blur shadow-sm">
      <nav
        class="container mx-auto flex items-center justify-between px-6 py-4"
      >
        <a
          href="/frontend/src/index.html"
          class="flex items-center gap-2 group"
        >
          <svg
            class="h-8 w-8 text-emerald-600 group-hover:text-emerald-700 transition"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            aria-hidden="true"
          >
            <circle cx="12" cy="8" r="4" />
            <path d="M21 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" />
          </svg>
          <span
            class="font-bold text-xl text-emerald-700 group-hover:text-emerald-900 transition"
            >Connexa</span
          >
        </a>
        <div class="flex items-center gap-6 font-semibold">
          <a
            href="/frontend/src/contact/index.html"
            class="text-emerald-700 hover:text-emerald-900 transition"
            >Home</a
          >
          <a
            id="signout"
            href="#"
            class="text-gray-500 hover:text-emerald-600 transition"
            >Sign out</a
          >
        </div>
      </nav>
    </header>

    <!-- Toolbar / Hero -->
    <section class="container mx-auto px-6 pt-8 pb-4">
      <div
        class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between"
      >
        <div>
          <h1 class="text-3xl font-extrabold tracking-tight">Your Contacts</h1>
          <p class="text-gray-600 mt-1">
            All your connections in one place. Search, add, or edit seamlessly.
          </p>
        </div>
        <div
          class="flex flex-row gap-3 items-center w-full md:w-auto justify-end"
        >
          <div class="relative w-full sm:w-80 md:w-96 lg:w-[28rem]">
            <input
              id="searchContacts"
              type="text"
              placeholder="Search contacts"
              aria-label="Search contacts"
              class="w-full rounded-full border border-gray-300 bg-white pl-10 pr-4 py-2 text-gray-900 placeholder:text-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"
            />
            <svg
              class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <circle cx="11" cy="11" r="7" />
              <path d="M21 21l-4.35-4.35" />
            </svg>
          </div>
          <button
            type="button"
            onclick="location.href='/frontend/src/contact/contact-form.html'"
            class="inline-flex items-center justify-center rounded-full bg-emerald-600 w-10 h-10 text-white shadow hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500"
            aria-label="Add contact"
          >
            <svg
              class="h-5 w-5"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 4v16m8-8H4"
              />
            </svg>
          </button>
        </div>
      </div>
    </section>

    <!-- Content -->
    <main class="container mx-auto px-6 pb-8 flex-1">
      <div class="flex gap-6 pt-4 h-[540px]">
        <!-- LEFT: Contact List (always visible) -->
        <aside
          class="w-full md:max-w-xs bg-white rounded-xl shadow-sm divide-y divide-gray-200 overflow-y-auto mx-auto mt-4 md:mt-0"
          style="height: 100%"
        >
          <ul id="contactsList" class="divide-y divide-gray-200 w-full max-w-lg mx-auto" role="list">
            <li>
              <button
                class="contact-row w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-gray-50 focus:bg-emerald-50 transition group"
                data-name="Jane Doe"
                data-company="Acme Corp"
                data-email="jane.doe@example.com"
                data-phone="(555) 123-4567"
                data-address="123 Main St, City, ON"
                data-website="www.acmecorp.com"
              >
                <span
                  class="flex items-center justify-center rounded-full bg-emerald-100 w-10 h-10"
                >
                  <svg
                    class="h-6 w-6 text-emerald-600"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="8" r="4" />
                    <path d="M21 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" />
                  </svg>
                </span>
                <div class="flex-1 min-w-0">
                  <p class="font-semibold truncate">Jane Doe</p>
                  <p class="text-sm text-gray-500 truncate">
                    Acme Corp • (555) 123‑4567
                  </p>
                </div>
              </button>
            </li>
            <li>
              <button
                class="contact-row w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-gray-50 focus:bg-emerald-50 transition group"
                data-name="John Smith"
                data-company="Beta Solutions"
                data-email="john.smith@example.com"
                data-phone="(555) 987-6543"
                data-address="456 Oak Ave, Town, BC"
                data-website="www.betasolutions.com"
              >
                <span
                  class="flex items-center justify-center rounded-full bg-emerald-100 w-10 h-10"
                >
                  <svg
                    class="h-6 w-6 text-emerald-600"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="8" r="4" />
                    <path d="M21 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" />
                  </svg>
                </span>
                <div class="flex-1 min-w-0">
                  <p class="font-semibold truncate">John Smith</p>
                  <p class="text-sm text-gray-500 truncate">
                    Beta Solutions • (555) 987‑6543
                  </p>
                </div>
              </button>
            </li>
            <li>
              <button
                class="contact-row w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-gray-50 focus:bg-emerald-50 transition group"
                data-name="Alice Johnson"
                data-company="Creative Studio"
                data-email="alice.johnson@example.com"
                data-phone="(555) 555-1234"
                data-address="789 Pine Rd, Village, AB"
                data-website="www.creativestudio.com"
              >
                <span
                  class="flex items-center justify-center rounded-full bg-emerald-100 w-10 h-10"
                >
                  <svg
                    class="h-6 w-6 text-emerald-600"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="8" r="4" />
                    <path d="M21 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" />
                  </svg>
                </span>
                <div class="flex-1 min-w-0">
                  <p class="font-semibold truncate">Alice Johnson</p>
                  <p class="text-sm text-gray-500 truncate">
                    Creative Studio • (555) 555‑1234
                  </p>
                </div>
              </button>
            </li>
          </ul>
        </aside>
        <!-- RIGHT: Contact Preview (hidden on mobile, visible on md+) -->
        <section
          id="contactPreview"
          class="flex-1 bg-white rounded-xl shadow-sm p-8 flex flex-col min-w-0 relative hidden md:flex"
        >
          <!-- Action Buttons - Top Right -->
          <div class="absolute top-6 right-6 flex gap-2">
            <button
              class="p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-emerald-100 hover:text-emerald-700 transition-colors duration-200 group"
              title="Edit Contact"
            >
              <svg
                class="h-5 w-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
                />
                <path
                  d="m18.5 2.5 a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
                />
              </svg>
            </button>
            <button
              class="p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors duration-200 group"
              title="Delete Contact"
            >
              <svg
                class="h-5 w-5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="3,6 5,6 21,6" />
                <path
                  d="m19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"
                />
                <line x1="10" y1="11" x2="10" y2="17" />
                <line x1="14" y1="11" x2="14" y2="17" />
              </svg>
            </button>
          </div>
          <!-- Contact Information -->
          <div
            class="flex flex-col items-center justify-center flex-1 max-w-lg mx-auto"
          >
            <div class="flex flex-col items-center mb-6">
              <span
                class="flex items-center justify-center rounded-full bg-gradient-to-br from-emerald-100 to-emerald-200 w-20 h-20 mb-4 shadow-sm"
              >
                <svg
                  class="h-12 w-12 text-emerald-600"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="12" cy="8" r="4" />
                  <path d="M21 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" />
                </svg>
              </span>
              <h2 class="contact-name text-3xl font-bold text-gray-900 mb-1">Jane Doe</h2>
              <div class="contact-company text-emerald-600 font-medium text-lg">Acme Corp</div>
            </div>
            <div class="w-full grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <svg
                  class="h-5 w-5 text-gray-500 flex-shrink-0"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                  />
                  <polyline points="22,6 12,13 2,6" />
                </svg>
                <div>
                  <div
                    class="text-xs text-gray-500 uppercase tracking-wide font-semibold"
                  >
                    Email
                  </div>
                  <div class="contact-email text-gray-900 font-medium">
                    jane.doe@example.com
                  </div>
                </div>
              </div>
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                <svg
                  class="h-5 w-5 text-gray-500 flex-shrink-0"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
                  />
                </svg>
                <div>
                  <div
                    class="text-xs text-gray-500 uppercase tracking-wide font-semibold"
                  >
                    Phone
                  </div>
                  <div class="contact-phone text-gray-900 font-medium">(555) 123-4567</div>
                </div>
              </div>
              <div
                class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg md:col-span-2"
              >
                <svg
                  class="h-5 w-5 text-gray-500 flex-shrink-0"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                  <circle cx="12" cy="10" r="3" />
                </svg>
                <div>
                  <div
                    class="text-xs text-gray-500 uppercase tracking-wide font-semibold"
                  >
                    Address
                  </div>
                  <div class="contact-address text-gray-900 font-medium">
                    123 Main St, City, ON
                  </div>
                </div>
              </div>
              <div
                class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg md:col-span-2"
              >
                <svg
                  class="h-5 w-5 text-gray-500 flex-shrink-0"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <circle cx="12" cy="12" r="10" />
                  <line x1="2" y1="12" x2="22" y2="12" />
                  <path
                    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
                  />
                </svg>
                <div>
                  <div
                    class="text-xs text-gray-500 uppercase tracking-wide font-semibold"
                  >
                    Website
                  </div>
                  <div class="contact-website text-gray-900 font-medium">www.acmecorp.com</div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Mobile Contact Modal -->
    <div
      id="mobileContactModal"
      class="fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none md:hidden transition-opacity duration-200"
      aria-modal="true"
      role="dialog"
      tabindex="-1"
    >
      <div class="absolute inset-0 bg-black bg-opacity-30 transition-opacity" id="mobileModalBackdrop"></div>
      <div class="relative w-full max-w-lg mx-auto bg-white rounded-xl shadow-xl p-8 flex flex-col items-center min-h-[340px]">
        <button
          type="button"
          id="closeMobileContactModal"
          class="absolute top-3 right-4 text-gray-400 hover:text-gray-600 focus:outline-none"
          aria-label="Close"
        >
          <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
        <!-- Modal contact content -->
        <div class="flex flex-col items-center mb-6">
          <span
            class="flex items-center justify-center rounded-full bg-gradient-to-br from-emerald-100 to-emerald-200 w-20 h-20 mb-4 shadow-sm"
          >
            <svg
              class="h-12 w-12 text-emerald-600"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="8" r="4" />
              <path d="M21 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" />
            </svg>
          </span>
          <h2 id="modalContactName" class="text-3xl font-bold text-gray-900 mb-1">Jane Doe</h2>
          <div id="modalContactCompany" class="text-emerald-600 font-medium text-lg">Acme Corp</div>
        </div>
        <div class="w-full grid grid-cols-1 gap-3">
          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
            <svg
              class="h-5 w-5 text-gray-500 flex-shrink-0"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
              />
              <polyline points="22,6 12,13 2,6" />
            </svg>
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide font-semibold">
                Email
              </div>
              <div id="modalContactEmail" class="text-gray-900 font-medium">jane.doe@example.com</div>
            </div>
          </div>
          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
            <svg
              class="h-5 w-5 text-gray-500 flex-shrink-0"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
              />
            </svg>
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide font-semibold">
                Phone
              </div>
              <div id="modalContactPhone" class="text-gray-900 font-medium">(555) 123-4567</div>
            </div>
          </div>
          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
            <svg
              class="h-5 w-5 text-gray-500 flex-shrink-0"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
              <circle cx="12" cy="10" r="3" />
            </svg>
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide font-semibold">
                Address
              </div>
              <div id="modalContactAddress" class="text-gray-900 font-medium">123 Main St, City, ON</div>
            </div>
          </div>
          <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
            <svg
              class="h-5 w-5 text-gray-500 flex-shrink-0"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="10" />
              <line x1="2" y1="12" x2="22" y2="12" />
              <path
                d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
              />
            </svg>
            <div>
              <div class="text-xs text-gray-500 uppercase tracking-wide font-semibold">
                Website
              </div>
              <div id="modalContactWebsite" class="text-gray-900 font-medium">www.acmecorp.com</div>
            </div>
          </div>
        </div>
        <!-- Modal Action Buttons (edit/delete) -->
        <div class="flex gap-2 justify-end mt-6 w-full">
          <button
            class="p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-emerald-100 hover:text-emerald-700 transition-colors duration-200 group"
            title="Edit Contact"
          >
            <svg
              class="h-5 w-5"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
              />
              <path
                d="m18.5 2.5 a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
              />
            </svg>
          </button>
          <button
            class="p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-red-100 hover:text-red-600 transition-colors duration-200 group"
            title="Delete Contact"
          >
            <svg
              class="h-5 w-5"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="3,6 5,6 21,6" />
              <path
                d="m19,6v14a2,2,0,0,1-2,2H7a2,2,0,0,1-2-2V6m3,0V4a2,2,0,0,1,2-2h4a2,2,0,0,1,2,2V6"
              />
              <line x1="10" y1="11" x2="10" y2="17" />
              <line x1="14" y1="11" x2="14" y2="17" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200">
      <div
        class="container mx-auto px-6 py-4 text-xs text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-2"
      >
        <p>© 2025 Connexa. All rights reserved.</p>
        <nav class="flex items-center gap-3">
          <a href="/frontend/src/index.html" class="hover:text-emerald-600"
            >Home</a
          >
          <span aria-hidden="true">•</span>
          <a href="#" class="hover:text-emerald-600">Terms</a>
          <span aria-hidden="true">•</span>
          <a href="#" class="hover:text-emerald-600">Privacy Policy</a>
        </nav>
      </div>
    </footer>

    <script src="../assets/js/contact.js"></script>
    <script src="../assets/js/navigation.js"></script>
    <script>
      // Mobile modal logic
      document.addEventListener('DOMContentLoaded', function () {
        var modal = document.getElementById('mobileContactModal');
        var closeBtn = document.getElementById('closeMobileContactModal');
        var backdrop = document.getElementById('mobileModalBackdrop');
        var contactRows = document.querySelectorAll('.contact-row');
        function isMobile() {
          return window.innerWidth < 768;
        }
        function openModal(data) {
          document.getElementById('modalContactName').textContent = data.name;
          document.getElementById('modalContactCompany').textContent = data.company;
          document.getElementById('modalContactEmail').textContent = data.email;
          document.getElementById('modalContactPhone').textContent = data.phone;
          document.getElementById('modalContactAddress').textContent = data.address;
          document.getElementById('modalContactWebsite').textContent = data.website;
          modal.classList.remove('opacity-0', 'pointer-events-none');
          modal.classList.add('opacity-100');
          // Add body classes to prevent background scroll
          document.body.classList.add('overflow-hidden', 'fixed', 'w-full');
        }
        function closeModal() {
          modal.classList.add('opacity-0', 'pointer-events-none');
          modal.classList.remove('opacity-100');
          // Remove body classes to allow background scroll
          document.body.classList.remove('overflow-hidden', 'fixed', 'w-full');
        }
        contactRows.forEach(function(row) {
          row.addEventListener('click', function (e) {
            if (!isMobile()) return;
            var data = {
              name: row.getAttribute('data-name') || '',
              company: row.getAttribute('data-company') || '',
              email: row.getAttribute('data-email') || '',
              phone: row.getAttribute('data-phone') || '',
              address: row.getAttribute('data-address') || '',
              website: row.getAttribute('data-website') || ''
            };
            openModal(data);
          });
        });
        closeBtn.addEventListener('click', closeModal);
        backdrop.addEventListener('click', closeModal);
        // ESC to close
        document.addEventListener('keydown', function (e) {
          if (modal && !modal.classList.contains('opacity-0') && e.key === 'Escape') {
            closeModal();
          }
        });
      });
    </script>
  </body>
</html>
